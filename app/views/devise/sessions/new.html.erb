<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">


    <title>登入</title>

    <!-- Bootstrap core CSS -->
    <link href="/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/css/signin.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">

      <div class="form-signin">


      <%= form_for(resource, as: resource_name, url: session_path(resource_name)  ) do |f| %>
          <% if current_user %>
            <% current_user.name %>
            <% link_to('登出', destroy_user_session_path, :method => :delete) %> |
            <%  link_to('修改密碼', edit_registration_path(:user)) %>
        <% else %>
            <%   link_to('註冊', new_registration_path(:user)) %>
            <%   link_to('登入', new_session_path(:user)) %>
        <% end %>



        <h2 class="form-signin-heading">後台管理系統</h2>
        <label for="inputEmail" class="sr-only">Email address</label>

        <%= f.email_field :email, autofocus: true , class: "form-control" ,placeholder:"Email address" %>
        <label for="inputPassword" class="sr-only">Password</label>

        <%= f.password_field :password, autocomplete: "off" ,  id:"inputPassword" , class:"form-control", placeholder:"Password" %>
        <!-- <div class="checkbox">
          <label>
            <input type="checkbox" value="remember-me"> Remember me
          </label>
        </div> -->

        <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>






        <%= render "devise/shared/links" %>

        <% end %>
    </div> <!-- /container -->

    </div>


     
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '1277765632349277',
      cookie     : true,
      xfbml      : true,
      version    : 'v2.8'
    });
    FB.AppEvents.logPageView();
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));


  FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
  });


function checkLoginState() {
  FB.getLoginStatus(function(response) {
    statusChangeCallback(response);
  });
}
</script>
